cc_library(
  name="internal",
  hdrs=[
    "include/internal/imgui.hpp",
  ],
  srcs=[
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    "//core/math",
    "//core/serialization:object",
    "@imgui//:imgui",
  ],
  visibility=["//visibility:private"]
)

cc_library(
  name="widget",
  hdrs=[
    "include/widget/widget.hpp",
    "include/widget/io.hpp",
  ],
  srcs=[
    "src/widget/widget.cpp",
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":internal",
    "//core/async",
    "//core/common",
    "//core/ecs",
    "//core/math",
    "//core/serialization/archive:binary_archive",
    "//core/serialization/stream:file_stream",
    "//engine/components",
    "//engine/scene",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="asset_management",
  hdrs=[
    "include/widget/asset_management.hpp"
  ],
  srcs=[
    "src/widget/asset_management.cpp"
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":widget",
    "//core/audio/device",
    "//core/audio/host",
    "//core/graphics/device",
    "//core/graphics/host:image",
    "//core/serialization/std",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="audio_browser",
  hdrs=[
    "include/widget/audio_browser.hpp"
  ],
  srcs=[
    "src/widget/audio_browser.cpp"
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":widget",
    "//core/audio/device",
    "//core/serialization/std",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="perf_monitor",
  hdrs=[
    "include/widget/perf_monitor.hpp"
  ],
  srcs=[
    "src/widget/perf_monitor.cpp"
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":widget",
    "//core/serialization/std",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="texture_browser",
  hdrs=[
    "include/widget/texture_browser.hpp"
  ],
  srcs=[
    "src/widget/texture_browser.cpp"
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":widget",
    "@imgui-file-dialogue",
    "//core/graphics/device",
    "//core/graphics/host:image"
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="tileset_creator",
  hdrs=[
    "include/widget/tileset_creator.hpp"
  ],
  srcs=[
    "src/widget/tileset_creator.cpp"
  ],
  strip_include_prefix="include",
  include_prefix="tyl/engine",
  deps=[
    ":widget",
    "@imgui-file-dialogue",
    "//core/graphics/device",
    "//core/graphics/host:image"
  ],
  visibility=["//visibility:public"]
)